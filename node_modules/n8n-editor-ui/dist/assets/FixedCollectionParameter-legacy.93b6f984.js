!function(){var e=document.createElement("style");e.innerHTML="[data-v-33098f64] .button{--button-background-color: var(--color-background-base);--button-border-color: var(--color-foreground-base)}.fixed-collection-parameter[data-v-33098f64]{padding-left:var(--spacing-s)}.fixed-collection-parameter-property[data-v-33098f64]{margin:var(--spacing-xs) 0}.delete-option[data-v-33098f64]{display:none;position:absolute;z-index:999;color:#f56c6c;left:0;top:.5em;width:15px;height:100%}.parameter-item:hover>.parameter-item-wrapper>.delete-option[data-v-33098f64]{display:block}.parameter-item[data-v-33098f64]{position:relative;padding:0 0 0 1em}.parameter-item+.parameter-item .parameter-item-wrapper[data-v-33098f64]{border-top:1px dashed #999}.parameter-item+.parameter-item .parameter-item-wrapper .delete-option[data-v-33098f64]{top:14px}.no-items-exist[data-v-33098f64]{margin:var(--spacing-xs) 0}.sort-icon[data-v-33098f64]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-left:1px;margin-top:.5em}\n",document.head.appendChild(e),System.register(["./index-legacy.aa1c8f42.js","./vendor-legacy.3baf2544.js","./n8n-workflow-legacy.b7f780ef.js","./n8n-design-system-legacy.092a5418.js","./@fortawesome/fontawesome-svg-core-legacy.ca346b61.js","./@fortawesome/free-solid-svg-icons-legacy.8eb301ff.js","./@fortawesome/free-regular-svg-icons-legacy.67b7a36f.js","./@fortawesome/vue-fontawesome-legacy.beffbe01.js","./vue2-touch-events-legacy.a1c5389b.js","./v-click-outside-legacy.ef329f1f.js","./axios-legacy.d62e88b6.js","./vue-fragment-legacy.f7fbe667.js","./vue-agile-legacy.6c59df99.js","./lodash-es-legacy.eae48945.js","./prismjs-legacy.16f56f6f.js","./vue-typed-mixins-legacy.9ab16e55.js","./xss-legacy.dea1f825.js","./flatted-legacy.62efdd11.js","./uuid-legacy.b94d7f36.js","./dateformat-legacy.6a3c2e5b.js","./monaco-editor-legacy.86c57c65.js","./quill-legacy.e5ee783d.js","./quill-autoformat-legacy.88b7fd14.js","./fast-json-stable-stringify-legacy.ca3f8ed7.js","./vue-prism-editor-legacy.8edae937.js","./esprima-legacy.4e44ff9a.js","./vue-i18n-legacy.a22873b3.js","./timeago.js-legacy.959a6572.js","./file-saver-legacy.caa46dd6.js","./jsplumb-legacy.6851afe8.js","./normalize-wheel-legacy.77a3ccbd.js","./vue2-teleport-legacy.2a7b97f5.js","./vue-json-pretty-legacy.72a1aad3.js","./luxon-legacy.e64ddd1f.js"],(function(e,t){"use strict";var a,i,n,o,s,l;return{setters:[function(e){a=e._},function(e){i=e.V},function(e){n=e.a,o=e.o,s=e.l},function(e){l=e.n},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var r=i.extend({name:"FixedCollectionParameter",props:{nodeValues:{type:Object,required:!0},parameter:{type:Object,required:!0},path:{type:String,required:!0},values:{type:Object,default:()=>({})},isReadOnly:{type:Boolean,default:!1}},components:{ParameterInputList:()=>a((()=>t.import("./index-legacy.aa1c8f42.js").then((function(e){return e.P}))),void 0)},data:()=>({selectedOption:void 0,mutableValues:{}}),watch:{values:{handler(e){this.mutableValues=n(e)},deep:!0}},created(){this.mutableValues=n(this.values)},computed:{getPlaceholderText(){const e=this.$locale.nodeText().placeholder(this.parameter,this.path);return e||this.$locale.baseText("fixedCollectionParameter.choose")},getProperties(){const e=[];let t;for(const a of this.propertyNames)t=this.getOptionProperties(a),void 0!==t&&e.push(t);return e},multipleValues(){return!!this.parameter.typeOptions?.multipleValues},parameterOptions(){return this.multipleValues&&o(this.parameter.options)?this.parameter.options:this.parameter.options.filter((e=>!this.propertyNames.includes(e.name)))},propertyNames(){return Object.keys(this.mutableValues||{})},sortable(){return!!this.parameter.typeOptions?.sortable}},methods:{deleteOption(e,t){const a=this.mutableValues[e];!a||a.length>1?this.$emit("valueChanged",{name:this.getPropertyPath(e,t),value:void 0}):this.$emit("valueChanged",{name:this.getPropertyPath(e),value:void 0})},getPropertyPath(e,t){return`${this.path}.${e}`+(void 0!==t?`[${t}]`:"")},getOptionProperties(e){if(o(this.parameter.options))for(const t of this.parameter.options)if(t.name===e)return t},moveOptionDown(e,t){Array.isArray(this.mutableValues[e])&&this.mutableValues[e].splice(t+1,0,this.mutableValues[e].splice(t,1)[0]);const a={name:this.getPropertyPath(e),value:this.mutableValues[e]};this.$emit("valueChanged",a)},moveOptionUp(e,t){Array.isArray(this.mutableValues[e])&&this.mutableValues?.[e].splice(t-1,0,this.mutableValues[e].splice(t,1)[0]);const a={name:this.getPropertyPath(e),value:this.mutableValues[e]};this.$emit("valueChanged",a)},optionSelected(e){const t=this.getOptionProperties(e);if(void 0===t)return;const a=`${this.path}.${t.name}`,i={};for(const r of t.values)"fixedCollection"===r.type&&void 0!==r.typeOptions&&!0===r.typeOptions.multipleValues?i[r.name]={}:void 0!==r.typeOptions&&!0===r.typeOptions.multipleValues?(i[r.name]=s.exports.get(this.nodeValues,`${this.path}.${r.name}`,[]),Array.isArray(r.default)?i[r.name].push(...n(r.default)):""!==r.default&&"object"!=typeof r.default&&i[r.name].push(n(r.default))):i[r.name]=n(r.default);let o;this.multipleValues?(o=s.exports.get(this.nodeValues,a,[]),o.push(i)):o=i;const l={name:a,value:o};this.$emit("valueChanged",l),this.selectedOption=void 0},valueChanged(e){this.$emit("valueChanged",e)}}});e("default",l(r,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"fixed-collection-parameter",on:{keydown:function(e){e.stopPropagation()}}},[0===e.getProperties.length?t("div",{staticClass:"no-items-exist"},[t("n8n-text",{attrs:{size:"small"}},[e._v(e._s(e.$locale.baseText("fixedCollectionParameter.currentlyNoItemsExist")))])],1):e._e(),e._l(e.getProperties,(function(a){return t("div",{key:a.name,staticClass:"fixed-collection-parameter-property"},[""!==a.displayName&&e.parameter.options&&1!==e.parameter.options.length?t("n8n-input-label",{attrs:{label:e.$locale.nodeText().inputLabelDisplayName(a,e.path),underline:!0,size:"small",color:"text-dark"}}):e._e(),e.multipleValues?t("div",e._l(e.mutableValues[a.name],(function(i,n){return t("div",{key:a.name+n,staticClass:"parameter-item"},[t("div",{staticClass:"parameter-item-wrapper"},[e.isReadOnly?e._e():t("div",{staticClass:"delete-option"},[t("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"trash",title:e.$locale.baseText("fixedCollectionParameter.deleteItem")},on:{click:function(t){return e.deleteOption(a.name,n)}}}),e.sortable?t("div",{staticClass:"sort-icon"},[0!==n?t("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"angle-up",title:e.$locale.baseText("fixedCollectionParameter.moveUp")},on:{click:function(t){return e.moveOptionUp(a.name,n)}}}):e._e(),n!==e.mutableValues[a.name].length-1?t("font-awesome-icon",{staticClass:"clickable",attrs:{icon:"angle-down",title:e.$locale.baseText("fixedCollectionParameter.moveDown")},on:{click:function(t){return e.moveOptionDown(a.name,n)}}}):e._e()],1):e._e()],1),t("parameter-input-list",{attrs:{parameters:a.values,nodeValues:e.nodeValues,path:e.getPropertyPath(a.name,n),hideDelete:!0,isReadOnly:e.isReadOnly},on:{valueChanged:e.valueChanged}})],1)])})),0):t("div",{staticClass:"parameter-item"},[t("div",{staticClass:"parameter-item-wrapper"},[e.isReadOnly?e._e():t("div",{staticClass:"delete-option"},[t("font-awesome-icon",{staticClass:"reset-icon clickable",attrs:{icon:"trash",title:e.$locale.baseText("fixedCollectionParameter.deleteItem")},on:{click:function(t){return e.deleteOption(a.name)}}})],1),t("parameter-input-list",{staticClass:"parameter-item",attrs:{parameters:a.values,nodeValues:e.nodeValues,path:e.getPropertyPath(a.name),isReadOnly:e.isReadOnly,hideDelete:!0},on:{valueChanged:e.valueChanged}})],1)])],1)})),e.parameterOptions.length>0&&!e.isReadOnly?t("div",[1===e.parameter.options.length?t("n8n-button",{attrs:{type:"tertiary",block:"",label:e.getPlaceholderText},on:{click:function(t){return e.optionSelected(e.parameter.options[0].name)}}}):t("div",{staticClass:"add-option"},[t("n8n-select",{attrs:{placeholder:e.getPlaceholderText,size:"small",filterable:""},on:{change:e.optionSelected},model:{value:e.selectedOption,callback:function(t){e.selectedOption=t},expression:"selectedOption"}},e._l(e.parameterOptions,(function(a){return t("n8n-option",{key:a.name,attrs:{label:e.$locale.nodeText().collectionOptionDisplayName(e.parameter,a,e.path),value:a.name}})})),1)],1)],1):e._e()],2)}),[],!1,null,"33098f64",null,null).exports)}}}))}();
