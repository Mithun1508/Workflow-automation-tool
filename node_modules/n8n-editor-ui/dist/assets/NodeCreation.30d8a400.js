import{_ as m,k as u,D as _,l as v,m as f}from"./index.9a182bb0.js";import{V as y}from"./vendor.a2fafdee.js";import{n as C}from"./n8n-design-system.670325b1.js";import"./@fortawesome/fontawesome-svg-core.2d7f1ae5.js";import"./@fortawesome/free-solid-svg-icons.4a1e939e.js";import"./@fortawesome/free-regular-svg-icons.9fb25f9a.js";import"./@fortawesome/vue-fontawesome.4443d979.js";import"./vue2-touch-events.f7c2b344.js";import"./v-click-outside.2a379eae.js";import"./axios.4a974fe3.js";import"./vue-fragment.3d40e27f.js";import"./vue-agile.3c7c1e37.js";import"./lodash-es.e05ea3b9.js";import"./prismjs.95406fca.js";import"./vue-typed-mixins.81797ea0.js";import"./xss.ffb35cb9.js";import"./n8n-workflow.4d086b10.js";import"./luxon.daa33f39.js";import"./flatted.12ebcbd8.js";import"./uuid.6335a3e0.js";import"./dateformat.a1136387.js";import"./monaco-editor.21485360.js";import"./quill.470e9400.js";import"./quill-autoformat.e2d87442.js";import"./fast-json-stable-stringify.d7c839ef.js";import"./vue-prism-editor.20a215ee.js";import"./esprima.67881ccb.js";import"./vue-i18n.517f429e.js";import"./timeago.js.677063e2.js";import"./file-saver.a22fc8cb.js";import"./jsplumb.1ecfd296.js";import"./normalize-wheel.53b95207.js";import"./vue2-teleport.e42b1fad.js";import"./vue-json-pretty.7b5bff4b.js";var N=y.extend({name:"node-creation",components:{NodeCreator:()=>m(()=>import("./NodeCreator.86de8db6.js"),["assets/NodeCreator.86de8db6.js","assets/NodeCreator.62345588.css","assets/vendor.a2fafdee.js","assets/n8n-design-system.670325b1.js","assets/n8n-design-system.4c7f4b23.css","assets/normalize-wheel.53b95207.js","assets/axios.4a974fe3.js","assets/@fortawesome/vue-fontawesome.4443d979.js","assets/@fortawesome/fontawesome-svg-core.2d7f1ae5.js","assets/xss.ffb35cb9.js","assets/vue-typed-mixins.81797ea0.js","assets/index.9a182bb0.js","assets/index.f7a3e682.css","assets/@fortawesome/free-solid-svg-icons.4a1e939e.js","assets/@fortawesome/free-regular-svg-icons.9fb25f9a.js","assets/vue2-touch-events.f7c2b344.js","assets/v-click-outside.2a379eae.js","assets/vue-fragment.3d40e27f.js","assets/vue-agile.3c7c1e37.js","assets/vue-agile.db3fb5fe.css","assets/lodash-es.e05ea3b9.js","assets/prismjs.95406fca.js","assets/n8n-workflow.4d086b10.js","assets/luxon.daa33f39.js","assets/flatted.12ebcbd8.js","assets/uuid.6335a3e0.js","assets/dateformat.a1136387.js","assets/monaco-editor.21485360.js","assets/monaco-editor.45667471.css","assets/quill.470e9400.js","assets/quill-autoformat.e2d87442.js","assets/fast-json-stable-stringify.d7c839ef.js","assets/vue-prism-editor.20a215ee.js","assets/esprima.67881ccb.js","assets/vue-i18n.517f429e.js","assets/timeago.js.677063e2.js","assets/file-saver.a22fc8cb.js","assets/jsplumb.1ecfd296.js","assets/vue2-teleport.e42b1fad.js","assets/vue-json-pretty.7b5bff4b.js"])},props:{nodeViewScale:{type:Number,required:!0},createNodeActive:{type:Boolean,default:!1}},data(){return{showStickyButton:!1}},methods:{onCreateMenuHoverIn(o){const t=o.target;this.showStickyButton=!0;const e=r=>{if(t){const n=t.getBoundingClientRect(),c=n.height,d=n.width,i=n.left,p=i+d,s=n.top,l=s+c;r.pageX>i&&r.pageX<p&&r.pageY>s&&r.pageY<l||(this.showStickyButton=!1,document.removeEventListener("mousemove",e,!1))}};document.addEventListener("mousemove",e,!1)},openNodeCreator(){this.$emit("toggleNodeCreator",{source:"add_node_button",createNodeActive:!0})},addStickyNote(){document.activeElement&&document.activeElement.blur();const o=[...this.$store.getters.getNodeViewOffsetPosition],t=u(this.nodeViewScale,o);t[0]-=_/2,t[1]-=v/2,this.$emit("addNode",{nodeTypeName:f,position:t})},closeNodeCreator(){this.$emit("toggleNodeCreator",{createNodeActive:!1})},nodeTypeSelected(o){this.$emit("addNode",{nodeTypeName:o}),this.closeNodeCreator()}}});const B="_nodeButtonsWrapper_tk7cm_1",k="_addStickyButton_tk7cm_10",S="_visibleButton_tk7cm_17",h="_noEvents_tk7cm_22",w="_nodeCreatorButton_tk7cm_26",T="_nodeCreatorPlus_tk7cm_43";var g={nodeButtonsWrapper:B,addStickyButton:k,visibleButton:S,noEvents:h,nodeCreatorButton:w,nodeCreatorPlus:T},$=function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",[t.createNodeActive?t._e():e("div",{class:[t.$style.nodeButtonsWrapper,t.showStickyButton?t.$style.noEvents:""],on:{mouseenter:t.onCreateMenuHoverIn}},[e("div",{class:t.$style.nodeCreatorButton},[e("n8n-icon-button",{class:t.$style.nodeCreatorPlus,attrs:{size:"xlarge",icon:"plus",type:"tertiary",title:t.$locale.baseText("nodeView.addNode")},on:{click:t.openNodeCreator}}),e("div",{class:[t.$style.addStickyButton,t.showStickyButton?t.$style.visibleButton:""],on:{click:t.addStickyNote}},[e("n8n-icon-button",{attrs:{size:"medium",type:"tertiary",icon:["far","note-sticky"],title:t.$locale.baseText("nodeView.addSticky")}})],1)],1)]),e("node-creator",{attrs:{active:t.createNodeActive},on:{nodeTypeSelected:t.nodeTypeSelected,closeNodeCreator:t.closeNodeCreator}})],1)},b=[];const a={$style:g};function E(o){for(var t in a)this[t]=a[t]}var P=C(N,$,b,!1,E,null,null,null),mt=P.exports;export{mt as default};
