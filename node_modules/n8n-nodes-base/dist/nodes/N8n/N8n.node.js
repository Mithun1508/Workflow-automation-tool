"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.N8n = void 0;
const CredentialDescription_1 = require("./CredentialDescription");
const ExecutionDescription_1 = require("./ExecutionDescription");
const WorkflowDescription_1 = require("./WorkflowDescription");
const WorkflowLocator_1 = require("./WorkflowLocator");
class N8n {
    constructor() {
        this.description = {
            displayName: 'n8n',
            name: 'n8n',
            icon: 'file:n8n.svg',
            group: ['transform'],
            version: 1,
            subtitle: '={{$parameter["operation"] + ": " + $parameter["resource"]}}',
            description: 'Consume n8n API',
            defaults: {
                name: 'n8n',
            },
            inputs: ['main'],
            outputs: ['main'],
            credentials: [
                {
                    name: 'n8nApi',
                    required: true,
                },
            ],
            requestDefaults: {
                returnFullResponse: true,
                baseURL: '={{ $credentials.baseUrl.replace(new RegExp("/$"), "") }}',
                headers: {
                    Accept: 'application/json',
                    'Content-Type': 'application/json',
                },
            },
            properties: [
                {
                    displayName: 'Resource',
                    name: 'resource',
                    type: 'options',
                    noDataExpression: true,
                    options: [
                        {
                            name: 'Credential',
                            value: 'credential',
                        },
                        {
                            name: 'Execution',
                            value: 'execution',
                        },
                        {
                            name: 'Workflow',
                            value: 'workflow',
                        },
                    ],
                    default: 'workflow',
                },
                ...CredentialDescription_1.credentialOperations,
                ...CredentialDescription_1.credentialFields,
                ...ExecutionDescription_1.executionOperations,
                ...ExecutionDescription_1.executionFields,
                ...WorkflowDescription_1.workflowOperations,
                ...WorkflowDescription_1.workflowFields,
            ],
        };
        this.methods = {
            listSearch: {
                searchWorkflows: WorkflowLocator_1.searchWorkflows,
            },
        };
    }
}
exports.N8n = N8n;
//# sourceMappingURL=N8n.node.js.map